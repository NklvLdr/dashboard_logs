<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>My First Dashboard</title>
    <style type="text/css">
        #row {
        display: grid;
        grid-template-columns: repeat(auto-fit,     minmax(300px, 600fr));
        grid-gap: 10px;
        }
        .column {
        background-color: #bbb;
        border-radius: 3px;
        padding: 20px;
        font-size: 14px;
        }
    </style>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
</head>
<body>
<div id="container">
    <form method="GET"">
        <label>Выберите email</label>
        <input type="text" id="email", value='Все'>
        <br><label>Выберите грейд</label>
        <select id ='grade_selection'>
            <option value="all">Все грейды</option>
            <option value="4">4</option>
            <option value="5">6</option>
            <option value="7">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
        </select>
        <br><label>Выберит центральность</label>
        <select id='centrality_selection'>
            <option value='eigenvalue'>по влиятельности</option>
            <option value='betweensess'>по посредничеству</option>
        </select>
        <br><input type="submit" id="submit_btn" value="Отфильтровать">
    </form>
</div>
<script>
    document.getElementById('submit_btn').addEventListener('click', updatePlots);

    function updatePlots(e) {

        e.preventDefault();
        var grade = document.getElementById('grade_selection').value;
        var centrality = document.getElementById('centrality_selection').value;

        xhr = new XMLHttpRequest();
        xhr.open('GET',`/process?grade=${grade}&centrality=${centrality}`, true);
        xhr.onload = function(){
            console.log(this.responseText);
        };
        xhr.send();
    }

</script>
<script src="{{ url_for('static', filename='js/jquery-1.11.1.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/plots.js') }}"></script>
</body>
</html>